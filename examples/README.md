# HTML Analysis Agent ä½¿ç”¨ç¤ºä¾‹

è¿™ä¸ªç›®å½•åŒ…å«äº†HTML Analysis Agentçš„å„ç§ä½¿ç”¨ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨é‡æ„åçš„åŠŸèƒ½ã€‚

## ğŸ“ æ–‡ä»¶è¯´æ˜

### ä¸»è¦ç¤ºä¾‹æ–‡ä»¶

- **`basic_usage.py`** - åŸºç¡€ä½¿ç”¨ç¤ºä¾‹
  - æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨Agentçš„æ‰€æœ‰ä¸»è¦åŠŸèƒ½
  - ä½¿ç”¨çœŸå®HTMLæ–‡ä»¶è¿›è¡Œæµ‹è¯•
  - å±•ç¤ºHTMLç®€åŒ–ã€æœç´¢ã€å®¹å™¨åˆ†æç­‰åŠŸèƒ½

- **`advanced_search_demo.py`** - é«˜çº§æœç´¢æ¼”ç¤º
  - ä¸“é—¨å±•ç¤ºæœç´¢å’ŒæŸ¥æ‰¾åŠŸèƒ½
  - å¤šæ–‡ä»¶æ‰¹é‡å¤„ç†ç¤ºä¾‹
  - è¯¦ç»†çš„åŠŸèƒ½å¯¹æ¯”

### æµ‹è¯•æ•°æ®æ–‡ä»¶

- **`13_detail.html`** - ç™½æ²™é¦™çƒŸäº§å“è¯¦æƒ…é¡µé¢
  - å®Œæ•´çš„ç”µå•†äº§å“é¡µé¢HTML
  - åŒ…å«äº§å“ä¿¡æ¯ã€ä»·æ ¼ã€è¯„è®ºç­‰æ•°æ®
  - ç”¨äºæµ‹è¯•æ•°æ®æå–åŠŸèƒ½

- **`95_detail.html`** - å¨‡å­é¦™çƒŸäº§å“è¯¦æƒ…é¡µé¢
  - å¦ä¸€ä¸ªäº§å“çš„å®Œæ•´é¡µé¢
  - ä¸åŒçš„é¡µé¢ç»“æ„å’Œå†…å®¹å¸ƒå±€

- **`4761_detail.html`** - ä¸‡å®è·¯é¦™çƒŸäº§å“è¯¦æƒ…é¡µé¢
  - ç¬¬ä¸‰ä¸ªæµ‹è¯•HTMLæ–‡ä»¶
  - ç”¨äºæµ‹è¯•ç³»ç»Ÿçš„é€šç”¨æ€§

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. è¿è¡ŒåŸºç¡€ç¤ºä¾‹

```bash
# ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•
cd /path/to/html_analysis_agent

# è¿è¡ŒåŸºç¡€ä½¿ç”¨ç¤ºä¾‹
python examples/basic_usage.py
```

### 2. è¿è¡Œé«˜çº§æœç´¢æ¼”ç¤º

```bash
python examples/advanced_search_demo.py
```

## ğŸ“Š ç¤ºä¾‹åŠŸèƒ½å±•ç¤º

### HTMLç®€åŒ–
```python
from html_analysis_agent import HTMLAnalysisAgent

agent = HTMLAnalysisAgent()
result = agent.analyze_html_with_simplification(html_content)

print(f"ç®€åŒ–ç»Ÿè®¡: {result['simplification_stats']}")
print(f"ç®€åŒ–åHTML: {result['simplified_html'][:500]}")
```

### æ™ºèƒ½æœç´¢
```python
# å…³é”®è¯æœç´¢
search_result = agent.search_html_content(html_content, ['ä»·æ ¼', 'å“ç‰Œ', 'è¯„åˆ†'])

# XPathæŸ¥æ‰¾
xpath_result = agent.find_elements_by_xpath(html_content, "//div[@class='price']")

# CSSé€‰æ‹©å™¨æŸ¥æ‰¾
css_result = agent.find_elements_by_css(html_content, ".product-info")
```

### æ•°æ®å®¹å™¨åˆ†æ
```python
container_result = agent.analyze_data_containers(html_content)
print(f"å‘ç°å®¹å™¨ç±»å‹: {list(container_result['containers'].keys())}")
```

## ğŸ¯ æµ‹è¯•æ•°æ®è¯´æ˜

### 13_detail.html (ç™½æ²™é¦™çƒŸ)
- **é¡µé¢ç±»å‹**: äº§å“è¯¦æƒ…é¡µ
- **ä¸»è¦å†…å®¹**:
  - äº§å“åŸºæœ¬ä¿¡æ¯ï¼ˆå“ç‰Œã€ç±»å‹ã€ç„¦æ²¹å«é‡ç­‰ï¼‰
  - ä»·æ ¼ä¿¡æ¯
  - ç”¨æˆ·è¯„åˆ†å’Œè¯„è®º
  - äº§å“å›¾ç‰‡
  - è´­ä¹°ç›¸å…³æŒ‰é’®

- **é€‚ç”¨æµ‹è¯•**:
  - äº§å“ä¿¡æ¯æå–
  - ä»·æ ¼æ•°æ®æŠ“å–
  - ç”¨æˆ·è¯„è®ºåˆ†æ
  - æŒ‰é’®å…ƒç´ å®šä½

### 95_detail.html (å¨‡å­é¦™çƒŸ)
- **é¡µé¢ç±»å‹**: äº§å“è¯¦æƒ…é¡µ
- **ä¸»è¦å†…å®¹**:
  - äº§å“è§„æ ¼ä¿¡æ¯
  - ä»·æ ¼å’Œä¿ƒé”€ä¿¡æ¯
  - ç”¨æˆ·è¯„ä»·æ•°æ®
  - äº§å“æè¿°å’Œå›¾ç‰‡

- **é€‚ç”¨æµ‹è¯•**:
  - ä¸åŒé¡µé¢ç»“æ„çš„å…¼å®¹æ€§
  - å¤šç§æ•°æ®ç±»å‹çš„æå–
  - åŠ¨æ€å†…å®¹å¤„ç†

### 4761_detail.html (æœªçŸ¥äº§å“)
- **é¡µé¢ç±»å‹**: äº§å“è¯¦æƒ…é¡µ
- **ä¸»è¦å†…å®¹**:
  - æœªçŸ¥äº§å“ç±»å‹çš„å®Œæ•´é¡µé¢
  - ç”¨äºæµ‹è¯•ç³»ç»Ÿçš„é€šç”¨æ€§

- **é€‚ç”¨æµ‹è¯•**:
  - ç³»ç»Ÿé²æ£’æ€§æµ‹è¯•
  - æœªçŸ¥å†…å®¹çš„å¤„ç†èƒ½åŠ›

## ğŸ”§ è‡ªå®šä¹‰æµ‹è¯•

### æ·»åŠ æ–°çš„HTMLæµ‹è¯•æ–‡ä»¶

1. å°†HTMLæ–‡ä»¶æ”¾å…¥ `examples/` ç›®å½•
2. åœ¨ç¤ºä¾‹ä»£ç ä¸­æ·»åŠ æ–°çš„æ–‡ä»¶è·¯å¾„ï¼š

```python
html_files = {
    'æ–°äº§å“': 'new_product.html',
    'æµ‹è¯•é¡µé¢': 'test_page.html'
}
```

### ä¿®æ”¹æœç´¢å…³é”®è¯

```python
# æ ¹æ®ä½ çš„HTMLå†…å®¹ä¿®æ”¹å…³é”®è¯
search_keywords = ['ä½ çš„å…³é”®è¯', 'ç›¸å…³å†…å®¹', 'ç›®æ ‡æ•°æ®']
```

### è‡ªå®šä¹‰XPathå’ŒCSSé€‰æ‹©å™¨

```python
# æ ¹æ®é¡µé¢ç»“æ„è°ƒæ•´é€‰æ‹©å™¨
xpath_patterns = [
    "//div[@class='ä½ çš„å…ƒç´ ç±»å']",
    "//span[contains(text(), 'ç›®æ ‡æ–‡æœ¬')]"
]

css_patterns = [
    ".ä½ çš„ç±»å",
    "#ä½ çš„ID",
    "div[å±æ€§='å€¼']"
]
```

## ğŸ“ˆ æ€§èƒ½æµ‹è¯•

### ç®€åŒ–æ•ˆæœæµ‹è¯•

```bash
# è¿è¡Œç®€åŒ–åŠŸèƒ½æ¼”ç¤º
python examples/basic_usage.py
# æŸ¥çœ‹è¾“å‡ºä¸­çš„"ç®€åŒ–ç»Ÿè®¡"å’Œ"å‹ç¼©æ¯”ä¾‹"
```

### æœç´¢æ€§èƒ½æµ‹è¯•

```bash
# è¿è¡Œæœç´¢åŠŸèƒ½æ¼”ç¤º
python examples/advanced_search_demo.py
# è§‚å¯Ÿæœç´¢é€Ÿåº¦å’Œå‡†ç¡®æ€§
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ–‡ä»¶ä¸å­˜åœ¨é”™è¯¯**
   - ç¡®ä¿HTMLæ–‡ä»¶åœ¨æ­£ç¡®çš„è·¯å¾„
   - æ£€æŸ¥æ–‡ä»¶åæ˜¯å¦æ­£ç¡®

2. **ç¼–ç é”™è¯¯**
   - ç¡®ä¿HTMLæ–‡ä»¶ä½¿ç”¨UTF-8ç¼–ç 
   - æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æœ‰ç‰¹æ®Šå­—ç¬¦

3. **å¯¼å…¥é”™è¯¯**
   - ç¡®ä¿å·²å®‰è£…æ‰€æœ‰ä¾èµ–åŒ…
   - æ£€æŸ¥Pythonè·¯å¾„è®¾ç½®

### è°ƒè¯•æŠ€å·§

1. **æŸ¥çœ‹ç®€åŒ–ç»“æœ**
   ```python
   simplified = agent.analyze_html_with_simplification(html_content)
   print("ç®€åŒ–ç»Ÿè®¡:", simplified['simplification_stats'])
   ```

2. **æ£€æŸ¥æœç´¢ç»“æœ**
   ```python
   search = agent.search_html_content(html_content, ['å…³é”®è¯'])
   print("æœç´¢ç»“æœæ•°é‡:", len(search['search_results']))
   ```

3. **éªŒè¯é€‰æ‹©å™¨**
   ```python
   xpath_result = agent.find_elements_by_xpath(html_content, "//div")
   print("æ‰¾åˆ°å…ƒç´ :", xpath_result['total_found'])
   ```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤æ–°çš„ç¤ºä¾‹æ–‡ä»¶å’Œæ”¹è¿›å»ºè®®ï¼

1. æ·»åŠ æ–°çš„HTMLæµ‹è¯•æ–‡ä»¶
2. åˆ›å»ºé’ˆå¯¹ç‰¹å®šåŠŸèƒ½çš„ç¤ºä¾‹
3. æ”¹è¿›ç°æœ‰ç¤ºä¾‹çš„æ³¨é‡Šå’Œæ–‡æ¡£

## ğŸ“ è”ç³»

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿã€‚
